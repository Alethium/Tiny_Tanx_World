[gd_scene load_steps=33 format=3 uid="uid://cx1y1p4ehilni"]

[ext_resource type="Texture2D" uid="uid://bu44113t6v1f8" path="res://tank tracks.png" id="1_3ll58"]
[ext_resource type="Script" uid="uid://p1cx4nnqj5s1" path="res://Scripts/player_mech.gd" id="1_e0bbr"]
[ext_resource type="Texture2D" uid="uid://xdf6t2nbnlp0" path="res://smoke_cards2.png" id="3_dsq5r"]
[ext_resource type="Script" uid="uid://cnx5w81cdundo" path="res://Scripts/front_left.gd" id="4_e0bbr"]
[ext_resource type="Script" uid="uid://b2bopcgx8l3kj" path="res://Scripts/front_right.gd" id="5_dxxpq"]
[ext_resource type="Texture2D" uid="uid://dupx3ik56ldgn" path="res://Sprites/Battlemech top downnew.png" id="5_lyki2"]
[ext_resource type="Script" uid="uid://c3lslhnd1ieaa" path="res://Scripts/rear_left.gd" id="6_shtb6"]
[ext_resource type="Script" uid="uid://c8hfr6v0ghbiw" path="res://Scripts/rear_right.gd" id="7_jpdlx"]
[ext_resource type="Script" uid="uid://b300sjtksbva4" path="res://Scripts/front_mid.gd" id="8_shtb6"]
[ext_resource type="Script" uid="uid://bi0uqtgcxxdvw" path="res://Scenes/player_cam.gd" id="10_6bbur"]
[ext_resource type="Texture2D" uid="uid://bxd4ufgoeaudw" path="res://Sprites/firecard.png" id="11_fj6lv"]
[ext_resource type="Script" uid="uid://v6wst15cbwgh" path="res://Scripts/core_l.gd" id="11_i4unb"]
[ext_resource type="Script" uid="uid://4ttit432d21s" path="res://Scripts/cockpit.gd" id="12_p21fq"]
[ext_resource type="Script" uid="uid://dulaaixjsglyo" path="res://Scripts/core_r.gd" id="13_p21fq"]
[ext_resource type="Script" uid="uid://hsobbqqft2tg" path="res://Scripts/core_rear.gd" id="14_jb6ot"]
[ext_resource type="Script" uid="uid://cqrcpv5k44g08" path="res://Scripts/weapon_slot.gd" id="16_p21fq"]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_v4qfu"]
radius = 19.0
height = 60.0

[sub_resource type="Gradient" id="Gradient_lcc5e"]
colors = PackedColorArray(1, 1, 1, 1, 1, 1, 1, 0)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_dxxpq"]
size = Vector2(11, 17)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_shtb6"]
size = Vector2(11, 17)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_jpdlx"]
size = Vector2(11.5, 15)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_i4unb"]
size = Vector2(11.5, 16)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_p21fq"]
size = Vector2(18, 20)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_e0bbr"]
size = Vector2(9.999997, 16.499987)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_fk877"]
size = Vector2(10.000004, 16.999994)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_lcc5e"]
size = Vector2(12.500005, 16.000004)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_8l82a"]
size = Vector2(30.000015, 14.99835)

[sub_resource type="Curve" id="Curve_dsq5r"]
_data = [Vector2(0, 0.25727075), 0.0, 0.38911086, 0, 0, Vector2(1, 0.901566), 1.8080378, 0.0, 0, 0]
point_count = 2

[sub_resource type="Gradient" id="Gradient_dsq5r"]
offsets = PackedFloat32Array(0, 0.63736266, 1)
colors = PackedColorArray(0.39607844, 0.39607844, 0.39607844, 1, 0.79369557, 0.79369676, 0.79369575, 0.7295365, 1, 1, 1, 0.14509805)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_ym03w"]

[sub_resource type="Curve" id="Curve_p5i7k"]
_data = [Vector2(0, 0.6721389), 0.0, -1.0358834, 0, 0, Vector2(1, 0), -0.06588223, 0.0, 0, 0]
point_count = 2

[sub_resource type="Gradient" id="Gradient_8cvv8"]
offsets = PackedFloat32Array(0, 0.07777778, 0.17222223, 0.2888889, 1)
colors = PackedColorArray(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0.07999998, 0.5568628, 0.29, 0.29, 0.29, 0.14509805, 0.14767182, 0.14767182, 0.14767176, 0)

[node name="Player" type="CharacterBody2D" groups=["player"]]
collision_layer = 2
collision_mask = 3
motion_mode = 1
script = ExtResource("1_e0bbr")
TOP_TURN_SPEED = 2.0
top_locked = false

[node name="bottom_hitbox" type="CollisionShape2D" parent="."]
shape = SubResource("CapsuleShape2D_v4qfu")

[node name="bottom_half" type="Node2D" parent="."]

[node name="treads" type="CPUParticles2D" parent="bottom_half"]
position = Vector2(0, 11)
amount = 24
texture = ExtResource("1_3ll58")
draw_order = 1
particle_flag_align_y = true
direction = Vector2(10.72, 11.34)
spread = 101.16
gravity = Vector2(0, 0)
color_ramp = SubResource("Gradient_lcc5e")

[node name="Bottom_Armor_hitboxes" type="Node2D" parent="bottom_half"]
position = Vector2(0, 8)

[node name="front_left" type="Area2D" parent="bottom_half/Bottom_Armor_hitboxes"]
unique_name_in_owner = true
position = Vector2(-14, -25)
script = ExtResource("4_e0bbr")
health = 50.0
armor = 100.0

[node name="CollisionShape2D" type="CollisionShape2D" parent="bottom_half/Bottom_Armor_hitboxes/front_left"]
visible = false
position = Vector2(-0.5, 1.5)
shape = SubResource("RectangleShape2D_dxxpq")

[node name="Sprite2D" type="Sprite2D" parent="bottom_half/Bottom_Armor_hitboxes/front_left"]
position = Vector2(2, 1)
texture = ExtResource("5_lyki2")
region_enabled = true
region_rect = Rect2(98, 4, 13, 26)

[node name="front_right" type="Area2D" parent="bottom_half/Bottom_Armor_hitboxes"]
unique_name_in_owner = true
position = Vector2(15, -25)
script = ExtResource("5_dxxpq")
health = 50.0
armor = 100.0

[node name="CollisionShape2D" type="CollisionShape2D" parent="bottom_half/Bottom_Armor_hitboxes/front_right"]
visible = false
position = Vector2(-0.5, 1.5)
shape = SubResource("RectangleShape2D_shtb6")

[node name="Sprite2D2" type="Sprite2D" parent="bottom_half/Bottom_Armor_hitboxes/front_right"]
position = Vector2(-9, -12)
texture = ExtResource("5_lyki2")
centered = false
region_enabled = true
region_rect = Rect2(98, 4, 13, 26)

[node name="rear_left" type="Area2D" parent="bottom_half/Bottom_Armor_hitboxes"]
unique_name_in_owner = true
position = Vector2(-15, 10)
script = ExtResource("6_shtb6")
health = 50.0
armor = 100.0

[node name="CollisionShape2D" type="CollisionShape2D" parent="bottom_half/Bottom_Armor_hitboxes/rear_left"]
visible = false
position = Vector2(1.25, 2.5)
shape = SubResource("RectangleShape2D_jpdlx")

[node name="Sprite2D" type="Sprite2D" parent="bottom_half/Bottom_Armor_hitboxes/rear_left"]
position = Vector2(21, -15)
texture = ExtResource("5_lyki2")
centered = false
region_enabled = true
region_rect = Rect2(98, 36, 13, 23)

[node name="rear_right" type="Area2D" parent="bottom_half/Bottom_Armor_hitboxes"]
unique_name_in_owner = true
position = Vector2(15, 10)
script = ExtResource("7_jpdlx")
health = 50.0
armor = 100.0

[node name="CollisionShape2D" type="CollisionShape2D" parent="bottom_half/Bottom_Armor_hitboxes/rear_right"]
visible = false
position = Vector2(-1.25, 2)
shape = SubResource("RectangleShape2D_i4unb")

[node name="Sprite2D" type="Sprite2D" parent="bottom_half/Bottom_Armor_hitboxes/rear_right"]
position = Vector2(-34, -15)
texture = ExtResource("5_lyki2")
centered = false
region_enabled = true
region_rect = Rect2(98, 36, 13, 23)

[node name="front_mid" type="Area2D" parent="bottom_half/Bottom_Armor_hitboxes"]
unique_name_in_owner = true
position = Vector2(0, -27)
script = ExtResource("8_shtb6")
health = 100.0
armor = 100.0

[node name="CollisionShape2D" type="CollisionShape2D" parent="bottom_half/Bottom_Armor_hitboxes/front_mid"]
position = Vector2(0, 20)
shape = SubResource("RectangleShape2D_p21fq")

[node name="Chassis" type="Sprite2D" parent="bottom_half/Bottom_Armor_hitboxes/front_mid"]
position = Vector2(0, 18)
texture = ExtResource("5_lyki2")
region_enabled = true
region_rect = Rect2(3, 79, 26, 48)

[node name="Life_Battery" type="Sprite2D" parent="bottom_half/Bottom_Armor_hitboxes/front_mid"]
position = Vector2(0, -2.5)
texture = ExtResource("5_lyki2")
region_enabled = true
region_rect = Rect2(0, 5, 16, 5)

[node name="Life_Battery2" type="Sprite2D" parent="bottom_half/Bottom_Armor_hitboxes/front_mid"]
position = Vector2(0, 1.5)
texture = ExtResource("5_lyki2")
region_enabled = true
region_rect = Rect2(0, 5, 16, 5)

[node name="Life_Battery3" type="Sprite2D" parent="bottom_half/Bottom_Armor_hitboxes/front_mid"]
position = Vector2(0, 5.5)
texture = ExtResource("5_lyki2")
region_enabled = true
region_rect = Rect2(0, 5, 16, 5)

[node name="top_half" type="Node2D" parent="."]
z_index = 1
position = Vector2(0, 4.2351647e-22)
scale = Vector2(0.99999994, 0.99999994)

[node name="targeting_laser" type="RayCast2D" parent="top_half"]
rotation = 0.0016419707
scale = Vector2(1.0000001, 1.0000001)
target_position = Vector2(0, -122)
collision_mask = 2

[node name="Player_cam" type="Camera2D" parent="top_half"]
position = Vector2(0.1986784, -120.99985)
scale = Vector2(1.0000001, 1.0000001)
ignore_rotation = false
limit_enabled = false
rotation_smoothing_speed = 3.0
script = ExtResource("10_6bbur")

[node name="Top_Armor_Hitboxes" type="Node2D" parent="top_half"]
scale = Vector2(1.0000001, 1.0000001)

[node name="Core_L" type="Area2D" parent="top_half/Top_Armor_Hitboxes"]
unique_name_in_owner = true
position = Vector2(-11, -2)
scale = Vector2(1.0000001, 1.0000001)
script = ExtResource("11_i4unb")
health = 100.0
armor = 100.0

[node name="Core_hitbox" type="CollisionShape2D" parent="top_half/Top_Armor_Hitboxes/Core_L"]
position = Vector2(1.0000005, -0.99999905)
rotation = 0.0016419714
scale = Vector2(0.99999946, 0.99999946)
shape = SubResource("RectangleShape2D_e0bbr")

[node name="armor" type="Sprite2D" parent="top_half/Top_Armor_Hitboxes/Core_L"]
position = Vector2(-6.9999986, -10.999999)
texture = ExtResource("5_lyki2")
centered = false
region_enabled = true
region_rect = Rect2(144, 16, 16, 16)

[node name="Core_R" type="Area2D" parent="top_half/Top_Armor_Hitboxes"]
unique_name_in_owner = true
position = Vector2(10, -2)
script = ExtResource("13_p21fq")
health = 100.0
armor = 100.0

[node name="Core_hitbox" type="CollisionShape2D" parent="top_half/Top_Armor_Hitboxes/Core_R"]
position = Vector2(1.1641532e-10, -5.9604645e-08)
rotation = 0.0016419715
scale = Vector2(0.99999946, 0.99999946)
shape = SubResource("RectangleShape2D_fk877")

[node name="armor" type="Sprite2D" parent="top_half/Top_Armor_Hitboxes/Core_R"]
position = Vector2(-9, -11)
texture = ExtResource("5_lyki2")
centered = false
region_enabled = true
region_rect = Rect2(144, 48, 16, 16)

[node name="Cockpit" type="Area2D" parent="top_half/Top_Armor_Hitboxes"]
unique_name_in_owner = true
position = Vector2(0, 1)
script = ExtResource("12_p21fq")
health = 100.0
armor = 100.0

[node name="Core_hitbox" type="CollisionShape2D" parent="top_half/Top_Armor_Hitboxes/Cockpit"]
position = Vector2(-0.23850435, -7.0004)
rotation = 0.0016419718
scale = Vector2(0.9999993, 0.9999993)
shape = SubResource("RectangleShape2D_lcc5e")

[node name="Cockpit_armor" type="Sprite2D" parent="top_half/Top_Armor_Hitboxes/Cockpit"]
position = Vector2(-8, -20)
texture = ExtResource("5_lyki2")
centered = false
region_enabled = true
region_rect = Rect2(144, 8, 16, 8)

[node name="Cockpit_light" type="Sprite2D" parent="top_half/Top_Armor_Hitboxes/Cockpit"]
position = Vector2(-8, -14)
texture = ExtResource("5_lyki2")
centered = false
region_enabled = true
region_rect = Rect2(81, 128, 16, 17)

[node name="Core_Rear" type="Area2D" parent="top_half/Top_Armor_Hitboxes"]
unique_name_in_owner = true
position = Vector2(0, 1)
script = ExtResource("14_jb6ot")
health = 100.0
armor = 100.0

[node name="Core_hitbox" type="CollisionShape2D" parent="top_half/Top_Armor_Hitboxes/Core_Rear"]
position = Vector2(-0.009028101, 5.4991636)
rotation = 0.0016419719
scale = Vector2(0.9999992, 0.9999992)
shape = SubResource("RectangleShape2D_8l82a")

[node name="rear_core_r" type="Sprite2D" parent="top_half/Top_Armor_Hitboxes/Core_Rear"]
position = Vector2(8, 7)
texture = ExtResource("5_lyki2")
region_enabled = true
region_rect = Rect2(144, 64, 16, 16)

[node name="rear_core_l" type="Sprite2D" parent="top_half/Top_Armor_Hitboxes/Core_Rear"]
position = Vector2(-8, 7)
texture = ExtResource("5_lyki2")
region_enabled = true
region_rect = Rect2(144, 32, 16, 16)

[node name="Vent_l" type="Sprite2D" parent="top_half/Top_Armor_Hitboxes/Core_Rear"]
position = Vector2(3.0000005, 9)
scale = Vector2(0.99999994, 0.99999994)
texture = ExtResource("5_lyki2")
centered = false
region_enabled = true
region_rect = Rect2(17, 49, 13, 6)

[node name="Vent_l2" type="Sprite2D" parent="top_half/Top_Armor_Hitboxes/Core_Rear"]
position = Vector2(-15.999998, 9)
scale = Vector2(0.99999994, 0.99999994)
texture = ExtResource("5_lyki2")
centered = false
region_enabled = true
region_rect = Rect2(17, 49, 13, 6)

[node name="smoke3" type="CPUParticles2D" parent="top_half/Top_Armor_Hitboxes/Core_Rear"]
modulate = Color(1, 1, 1, 0.49019608)
position = Vector2(9, 14)
scale = Vector2(0.99999994, 0.99999994)
amount = 50
texture = ExtResource("3_dsq5r")
lifetime = 0.5
speed_scale = 2.0
randomness = 0.5
draw_order = 1
emission_shape = 3
emission_rect_extents = Vector2(5, 3)
direction = Vector2(0, 1)
spread = 0.0
gravity = Vector2(0, 0)
initial_velocity_min = 5.0
initial_velocity_max = 20.0
scale_amount_min = 0.2
scale_amount_max = 2.0
scale_amount_curve = SubResource("Curve_dsq5r")
color_ramp = SubResource("Gradient_dsq5r")

[node name="smoke4" type="CPUParticles2D" parent="top_half/Top_Armor_Hitboxes/Core_Rear"]
modulate = Color(1, 1, 1, 0.49019608)
position = Vector2(-8.999998, 14)
scale = Vector2(0.99999994, 0.99999994)
amount = 50
texture = ExtResource("3_dsq5r")
lifetime = 0.5
speed_scale = 2.0
randomness = 0.5
draw_order = 1
emission_shape = 3
emission_rect_extents = Vector2(5, 3)
direction = Vector2(0, 1)
spread = 0.0
gravity = Vector2(0, 0)
initial_velocity_min = 5.0
initial_velocity_max = 20.0
scale_amount_min = 0.2
scale_amount_max = 2.0
scale_amount_curve = SubResource("Curve_dsq5r")
color_ramp = SubResource("Gradient_dsq5r")

[node name="engine_fire" type="CPUParticles2D" parent="top_half/Top_Armor_Hitboxes/Core_Rear"]
material = SubResource("ShaderMaterial_ym03w")
position = Vector2(-10, 14)
scale = Vector2(0.9999997, 0.9999997)
amount = 20
texture = ExtResource("11_fj6lv")
lifetime = 0.5
speed_scale = 2.0
randomness = 0.56
local_coords = true
draw_order = 1
emission_shape = 3
emission_rect_extents = Vector2(5, 1)
direction = Vector2(0, 1)
spread = 0.0
gravity = Vector2(0, 0)
initial_velocity_min = 30.0
initial_velocity_max = 50.99
damping_min = 20.0
damping_max = 20.0
angle_min = -180.0
angle_max = 168.0
scale_amount_min = 0.0
scale_amount_curve = SubResource("Curve_p5i7k")
color_ramp = SubResource("Gradient_8cvv8")

[node name="engine_fire2" type="CPUParticles2D" parent="top_half/Top_Armor_Hitboxes/Core_Rear"]
material = SubResource("ShaderMaterial_ym03w")
position = Vector2(9.999998, 14.000001)
scale = Vector2(0.9999997, 0.9999997)
amount = 20
texture = ExtResource("11_fj6lv")
lifetime = 0.5
speed_scale = 2.0
randomness = 0.56
local_coords = true
draw_order = 1
emission_shape = 3
emission_rect_extents = Vector2(5, 1)
direction = Vector2(0, 1)
spread = 0.0
gravity = Vector2(0, 0)
initial_velocity_min = 30.0
initial_velocity_max = 50.99
damping_min = 20.0
damping_max = 20.0
angle_min = -180.0
angle_max = 168.0
scale_amount_min = 0.0
scale_amount_curve = SubResource("Curve_p5i7k")
color_ramp = SubResource("Gradient_8cvv8")

[node name="weapon_slots" type="Node2D" parent="top_half"]
position = Vector2(0.0032839403, -1.9999975)
scale = Vector2(1.0000001, 1.0000001)

[node name="left_arm_weapon_slot" type="Node2D" parent="top_half/weapon_slots"]
position = Vector2(-17.003284, 1.9999974)
scale = Vector2(0.9999998, 0.9999998)
script = ExtResource("16_p21fq")

[node name="left_shoulder_weapon_slot" type="Node2D" parent="top_half/weapon_slots"]
z_index = 1
position = Vector2(-0.00328394, 4.9999976)
script = ExtResource("16_p21fq")

[node name="right_arm_weapon_slot" type="Node2D" parent="top_half/weapon_slots"]
position = Vector2(15.9967165, 1.9999974)
script = ExtResource("16_p21fq")

[node name="right_shoulder_weapon_slot" type="Node2D" parent="top_half/weapon_slots"]
z_index = 1
position = Vector2(7.996716, -9.000003)
script = ExtResource("16_p21fq")
